{"version":3,"sources":["../../server/models/Comment.js"],"names":["Schema","commentSchema","text","type","String","required","_creator","ObjectId","ref","_post","createdAt","Date","default","now","isDeleted","Boolean","autoPopulateCreator","next","populate","path","select","pre","Comment","model"],"mappings":";;;;;;AAAA;;;;;;IACQA,M,sBAAAA,M;;;AAER,IAAMC,gBAAgB,IAAID,MAAJ,CAAW;AAC/BE,QAAM,EAAEC,MAAMC,MAAR,EAAgBC,UAAU,IAA1B,EADyB;AAE/BC,YAAU,EAAEH,MAAMH,OAAOO,QAAf,EAAyBC,KAAK,MAA9B,EAFqB;AAG/BC,SAAO,EAAEN,MAAMH,OAAOO,QAAf,EAAyBC,KAAK,MAA9B,EAHwB;AAI/BE,aAAW,EAAEP,MAAMQ,IAAR,EAAcC,SAASD,KAAKE,GAA5B,EAJoB;AAK/BC,aAAW,EAAEX,MAAKY,OAAP,EAAgBH,SAAS,KAAzB;AALoB,CAAX,CAAtB;;AAQA,SAASI,mBAAT,CAA6BC,IAA7B,EAAmC;AACjC,OAAKC,QAAL,CAAc;AACZC,UAAM,UADM;AAEZC,YAAQ;AAFI,GAAd;AAIAH;AACD;;AAEDhB,cAAcoB,GAAd,CAAkB,MAAlB,EAA0BL,mBAA1B;;AAEA,IAAMM,UAAU,mBAASC,KAAT,CAAe,SAAf,EAA0BtB,aAA1B,CAAhB;;kBAEeqB,O","file":"Comment.js","sourcesContent":["import mongoose from 'mongoose';\nconst { Schema } = mongoose;\n\nconst commentSchema = new Schema({\n  text: { type: String, required: true },\n  _creator: { type: Schema.ObjectId, ref: 'User' },\n  _post: { type: Schema.ObjectId, ref: 'Post' },\n  createdAt: { type: Date, default: Date.now },\n  isDeleted: { type:Boolean, default: false }\n});\n\nfunction autoPopulateCreator(next) {\n  this.populate({\n    path: '_creator',\n    select: 'username -_id'\n  });\n  next();\n}\n\ncommentSchema.pre('find', autoPopulateCreator);\n\nconst Comment = mongoose.model('Comment', commentSchema);\n\nexport default Comment;\n"]}