{"version":3,"sources":["../server/app.js"],"names":["Promise","global","mongodbUri","process","env","MONGODB_URI","connect","useMongoClient","then","console","log","err","app","use","json","urlencoded","extended","static","join","__dirname","set","port","PORT","listen"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;;;AAEA;;AAEA,mBAASA,OAAT,GAAmBC,OAAOD,OAA1B;AACA,IAAME,aAAaC,QAAQC,GAAR,CAAYC,WAA/B;AACA,mBAASC,OAAT,CAAiBJ,UAAjB,EAA4B;AAC1BK,kBAAgB;AADU,CAA5B,EAEGC,IAFH,CAGE,YAAM;AACJC,UAAQC,GAAR,CAAY,mCAAZ;AACD,CALH,EAME,UAACC,GAAD,EAAS;AACPF,UAAQC,GAAR,CAAY,8BAAZ;AACAD,UAAQC,GAAR,CAAYC,GAAZ;AACD,CATH;;AAYA;;AAEA,IAAMC,MAAM,wBAAZ;;AAEA;;AAEAA,IAAIC,GAAJ,CAAS,qBAAWC,IAAX,EAAT;AACAF,IAAIC,GAAJ,CAAS,qBAAWE,UAAX,CAAsB,EAAEC,UAAU,IAAZ,EAAtB,CAAT;AACAJ,IAAIC,GAAJ,CAAS,sBAAO,KAAP,CAAT;;AAEAD,IAAIC,GAAJ,CAAS,kBAAQI,MAAR,CAAgB,eAAKC,IAAL,CAAUC,SAAV,EAAoB,WAApB,CAAhB,CAAT;;AAEAP,IAAIQ,GAAJ,CAAQ,aAAR,EAAsB,KAAtB;AACAR,IAAIQ,GAAJ,CAAQ,OAAR,EAAiB,eAAKF,IAAL,CAAUC,SAAV,EAAqB,UAArB,CAAjB;;AAEA;AACAP,IAAIC,GAAJ,CAAQ,MAAR;AACAD,IAAIC,GAAJ,CAAQ,GAAR;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA,IAAMQ,OAAOlB,QAAQC,GAAR,CAAYkB,IAAZ,IAAoB,IAAjC;AACAV,IAAIW,MAAJ,CAAWF,IAAX,EAAiB,YAAM;AACrBZ,UAAQC,GAAR,CAAY,2BAAZ;AACD,CAFD","file":"app.js","sourcesContent":["import express from 'express';\nimport mongoose from 'mongoose';\nimport bodyParser from 'body-parser';\nimport path from 'path';\nimport morgan from 'morgan';\nimport session from 'express-session';\n\nimport routes from './routes';\nimport apiRoutes from './apiRoutes';\n\n// Configure Database here\n\nmongoose.Promise = global.Promise;\nconst mongodbUri = process.env.MONGODB_URI;\nmongoose.connect(mongodbUri,{\n  useMongoClient: true\n}).then(\n  () => {\n    console.log('Connected to mongodb via mongoose');\n  },\n  (err) => {\n    console.log('Error connecting to database');\n    console.log(err);\n  }\n);\n\n// Express App\n\nconst app = express();\n\n// Middleware\n\napp.use( bodyParser.json() );\napp.use( bodyParser.urlencoded({ extended: true}) );\napp.use( morgan('dev') );\n\napp.use( express.static( path.join(__dirname,'../public') ) );\n\napp.set('view engine','ejs');\napp.set('views', path.join(__dirname, '../views'));\n\n// Routes\napp.use('/api', apiRoutes);\napp.use('/', routes);\n\n\n// app.use( express.static( path.join(__dirname,'client/build') ) );\n// app.get('*', (req, res) => {\n//   res.sendFile( path.join(__dirname,'client/build/index.html') );\n// });\n\n// Server\n\nconst port = process.env.PORT || 3000;\napp.listen(port, () => {\n  console.log('listening on port ${port}');\n});\n"]}